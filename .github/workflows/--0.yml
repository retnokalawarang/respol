name: Run

on:
  push:
    branches: ["mainu"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [2500 2510,2510 2520,2520 2530,2530 2540,2540 2550,2550 2560,2560 2570,2570 2580,2580 2590,2590 2600,2600 2610,2610 2620,2620 2630,2630 2640,2640 2650,2650 2660,2660 2670,2670 2680,2680 2690,2690 2700,2700 2710,2710 2720,2720 2730,2730 2740,2740 2750,2750 2760,2760 2770,2770 2780,2780 2790,2790 2800,2800 2810,2810 2820,2820 2830,2830 2840,2840 2850,2850 2860,2860 2870,2870 2880,2880 2890,2890 2900,2900 2910,2910 2920,2920 2930,2930 2940,2940 2950,2950 2960,2960 2970,2970 2980,2980 2990,2990 3000,3000 3010,3010 3020,3020 3030,3030 3040,3040 3050,3050 3060,3060 3070,3070 3080,3080 3090,3090 3100,3100 3110,3110 3120,3120 3130,3130 3140,3140 3150,3150 3160,3160 3170,3170 3180,3180 3190,3190 3200,3200 3210,3210 3220,3220 3230,3230 3240,3240 3250,3250 3260,3260 3270,3270 3280,3280 3290,3290 3300,3300 3310,3310 3320,3320 3330,3330 3340,3340 3350,3350 3360,3360 3370,3370 3380,3380 3390,3390 3400,3400 3410,3410 3420,3420 3430,3430 3440,3440 3450,3450 3460,3460 3470,3470 3480,3480 3490,3490 3500,3500 3510,3510 3520,3520 3530,3530 3540,3540 3550,3550 3560,3560 3570,3570 3580,3580 3590,3590 3600,3600 3610,3610 3620,3620 3630,3630 3640,3640 3650,3650 3660,3660 3670,3670 3680,3680 3690,3690 3700,3700 3710,3710 3720,3720 3730,3730 3740,3740 3750,3750 3760,3760 3770,3770 3780,3780 3790,3790 3800,3800 3810,3810 3820,3820 3830,3830 3840,3840 3850,3850 3860,3860 3870,3870 3880,3880 3890,3890 3900,3900 3910,3910 3920,3920 3930,3930 3940,3940 3950,3950 3960,3960 3970,3970 3980,3980 3990,3990 4000,4000 4010,4010 4020,4020 4030,4030 4040,4040 4050,4050 4060,4060 4070,4070 4080,4080 4090,4090 4100,4100 4110,4110 4120,4120 4130,4130 4140,4140 4150,4150 4160,4160 4170,4170 4180,4180 4190,4190 4200,4200 4210,4210 4220,4220 4230,4230 4240,4240 4250,4250 4260,4260 4270,4270 4280,4280 4290,4290 4300,4300 4310,4310 4320,4320 4330,4330 4340,4340 4350,4350 4360,4360 4370,4370 4380,4380 4390,4390 4400,4400 4410,4410 4420,4420 4430,4430 4440,4440 4450,4450 4460,4460 4470,4470 4480,4480 4490,4490 4500,4500 4510,4510 4520,4520 4530,4530 4540,4540 4550,4550 4560,4560 4570,4570 4580,4580 4590,4590 4600,4600 4610,4610 4620,4620 4630,4630 4640,4640 4650,4650 4660,4660 4670,4670 4680,4680 4690,4690 4700,4700 4710,4710 4720,4720 4730,4730 4740,4740 4750,4750 4760,4760 4770,4770 4780,4780 4790,4790 4800,4800 4810,4810 4820,4820 4830,4830 4840,4840 4850,4850 4860,4860 4870,4870 4880,4880 4890,4890 4900,4900 4910,4910 4920,4920 4930,4930 4940,4940 4950,4950 4960,4960 4970,4970 4980,4980 4990,4990 5000]
    steps:
      - uses: actions/checkout@v4
      - name: Install Dependencies
        uses: actions/setup-python@v5
        with:
          python-version: 3.12
      - name: Install
        run: |
          python -m pip install --upgrade pip wheel setuptools
          python -m pip install seleniumbase==4.27.0
          python -m pip install supabase
          python -m pip install requests
          sudo apt install -y google-chrome-stable
          seleniumbase install chromedriver
          sudo apt install -y xvfb
      - name: Run
        run: |
          export DISPLAY=:0
          /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
          sleep 5
          xvfb-run python run-t-kw.py ${{matrix.RangeIndex}}
      - name: done
        run: exit
