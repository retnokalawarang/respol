name: Run

on:
  push:
    branches: ["mainu"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [1000 1005,1005 1010,1010 1015,1015 1020,1020 1025,1025 1030,1030 1035,1035 1040,1040 1045,1045 1050,1050 1055,1055 1060,1060 1065,1065 1070,1070 1075,1075 1080,1080 1085,1085 1090,1090 1095,1095 1100,1100 1105,1105 1110,1110 1115,1115 1120,1120 1125,1125 1130,1130 1135,1135 1140,1140 1145,1145 1150,1150 1155,1155 1160,1160 1165,1165 1170,1170 1175,1175 1180,1180 1185,1185 1190,1190 1195,1195 1200,1200 1205,1205 1210,1210 1215,1215 1220,1220 1225,1225 1230,1230 1235,1235 1240,1240 1245,1245 1250,1250 1255,1255 1260,1260 1265,1265 1270,1270 1275,1275 1280,1280 1285,1285 1290,1290 1295,1295 1300,1300 1305,1305 1310,1310 1315,1315 1320,1320 1325,1325 1330,1330 1335,1335 1340,1340 1345,1345 1350,1350 1355,1355 1360,1360 1365,1365 1370,1370 1375,1375 1380,1380 1385,1385 1390,1390 1395,1395 1400,1400 1405,1405 1410,1410 1415,1415 1420,1420 1425,1425 1430,1430 1435,1435 1440,1440 1445,1445 1450,1450 1455,1455 1460,1460 1465,1465 1470,1470 1475,1475 1480,1480 1485,1485 1490,1490 1495,1495 1500,1500 1505,1505 1510,1510 1515,1515 1520,1520 1525,1525 1530,1530 1535,1535 1540,1540 1545,1545 1550,1550 1555,1555 1560,1560 1565,1565 1570,1570 1575,1575 1580,1580 1585,1585 1590,1590 1595,1595 1600,1600 1605,1605 1610,1610 1615,1615 1620,1620 1625,1625 1630,1630 1635,1635 1640,1640 1645,1645 1650,1650 1655,1655 1660,1660 1665,1665 1670,1670 1675,1675 1680,1680 1685,1685 1690,1690 1695,1695 1700,1700 1705,1705 1710,1710 1715,1715 1720,1720 1725,1725 1730,1730 1735,1735 1740,1740 1745,1745 1750,1750 1755,1755 1760,1760 1765,1765 1770,1770 1775,1775 1780,1780 1785,1785 1790,1790 1795,1795 1800,1800 1805,1805 1810,1810 1815,1815 1820,1820 1825,1825 1830,1830 1835,1835 1840,1840 1845,1845 1850,1850 1855,1855 1860,1860 1865,1865 1870,1870 1875,1875 1880,1880 1885,1885 1890,1890 1895,1895 1900,1900 1905,1905 1910,1910 1915,1915 1920,1920 1925,1925 1930,1930 1935,1935 1940,1940 1945,1945 1950,1950 1955,1955 1960,1960 1965,1965 1970,1970 1975,1975 1980,1980 1985,1985 1990,1990 1995,1995 2000]
    steps:
      - uses: actions/checkout@v4
      - name: Install Dependencies
        uses: actions/setup-python@v5
        with:
          python-version: 3.12
      - name: Install
        run: |
          python -m pip install --upgrade pip wheel setuptools
          python -m pip install seleniumbase==4.27.0
          python -m pip install supabase
          python -m pip install requests
          sudo apt install -y google-chrome-stable
          seleniumbase install chromedriver
          sudo apt install -y xvfb
      - name: Run
        run: |
          export DISPLAY=:0
          /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
          sleep 5
          xvfb-run python run-t-kw.py ${{matrix.RangeIndex}}
      - name: done
        run: exit
