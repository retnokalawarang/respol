name: Run

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [500 502,502 504,504 506,506 508,508 510,510 512,512 514,514 516,516 518,518 520,520 522,522 524,524 526,526 528,528 530,530 532,532 534,534 536,536 538,538 540,540 542,542 544,544 546,546 548,548 550,550 552,552 554,554 556,556 558,558 560,560 562,562 564,564 566,566 568,568 570,570 572,572 574,574 576,576 578,578 580,580 582,582 584,584 586,586 588,588 590,590 592,592 594,594 596,596 598,598 600,600 602,602 604,604 606,606 608,608 610,610 612,612 614,614 616,616 618,618 620,620 622,622 624,624 626,626 628,628 630,630 632,632 634,634 636,636 638,638 640,640 642,642 644,644 646,646 648,648 650,650 652,652 654,654 656,656 658,658 660,660 662,662 664,664 666,666 668,668 670,670 672,672 674,674 676,676 678,678 680,680 682,682 684,684 686,686 688,688 690,690 692,692 694,694 696,696 698,698 700,700 702,702 704,704 706,706 708,708 710,710 712,712 714,714 716,716 718,718 720,720 722,722 724,724 726,726 728,728 730,730 732,732 734,734 736,736 738,738 740,740 742,742 744,744 746,746 748,748 750,750 752,752 754,754 756,756 758,758 760,760 762,762 764,764 766,766 768,768 770,770 772,772 774,774 776,776 778,778 780,780 782,782 784,784 786,786 788,788 790,790 792,792 794,794 796,796 798,798 800,800 802,802 804,804 806,806 808,808 810,810 812,812 814,814 816,816 818,818 820,820 822,822 824,824 826,826 828,828 830,830 832,832 834,834 836,836 838,838 840,840 842,842 844,844 846,846 848,848 850,850 852,852 854,854 856,856 858,858 860,860 862,862 864,864 866,866 868,868 870,870 872,872 874,874 876,876 878,878 880,880 882,882 884,884 886,886 888,888 890,890 892,892 894,894 896,896 898,898 900,900 902,902 904,904 906,906 908,908 910,910 912,912 914,914 916,916 918,918 920,920 922,922 924,924 926,926 928,928 930,930 932,932 934,934 936,936 938,938 940,940 942,942 944,944 946,946 948,948 950,950 952,952 954,954 956,956 958,958 960,960 962,962 964,964 966,966 968,968 970,970 972,972 974,974 976,976 978,978 980,980 982,982 984,984 986,986 988,988 990,990 992,992 994,994 996,996 998,998 1000]
    steps:
      - uses: actions/checkout@v4
      - name: Install Dependencies
        uses: actions/setup-python@v5
        with:
          python-version: 3.12
      - name: Install
        run: |
          python -m pip install --upgrade pip wheel setuptools
          python -m pip install seleniumbase==4.27.0
          python -m pip install supabase
          sudo apt install -y google-chrome-stable
          seleniumbase install chromedriver
          sudo apt install -y xvfb
          export DISPLAY=:0
          /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
          sleep 5
          xvfb-run python run-t-kw.py ${{matrix.RangeIndex}}
      - name: done
        run: exit
